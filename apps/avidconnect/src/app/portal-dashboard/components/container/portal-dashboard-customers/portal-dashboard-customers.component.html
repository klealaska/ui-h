<section class="customers tab-content">
  <avc-loading-wrapper
    [isLoading]="isLoadingCustomers$ | async"
    [loadingMessage]="'Loading Customers'"
  >
    <div class="search-filters">
      <mat-checkbox (change)="showInactiveChanged($event.checked)">Show Inactive</mat-checkbox>
      <form class="search-form" autocomplete="off">
        <mat-form-field class="search-field" appearance="outline">
          <mat-label>Search Customer...</mat-label>
          <mat-icon matSuffix>search</mat-icon>
          <input
            type="text"
            matInput
            [(ngModel)]="searchCustomerText"
            name="search-field"
            placeholder="Search by Name"
            id="txtSearchBox"
          />
          <button
            *ngIf="searchCustomerText"
            matPrefix
            mat-icon-button
            aria-label="Clear"
            id="btnSearchBox"
            (click)="searchCustomerText=''"
            type="button"
          >
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
      </form>
    </div>

    <avc-customers-list
      [customers]="customers$"
      [searchText]="searchCustomerText"
      [showInactive]="showInactive"
      [platforms]="platforms$| async"
      (customerSelected)="customerSelected($event)"
    ></avc-customers-list>
  </avc-loading-wrapper>
</section>
